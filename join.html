<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIZBOX : 회원가입</title>
    <!-- Reset CSS -->
    <link rel="stylesheet" href="./css/reset.css">
    <!-- Pretendard Font -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <!-- 헤더 영역 -->
    <div class="header">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="inner">
                        <h1><a href="index.html"><img src="./images/logo.png" alt="Logo"></a></h1>
                        <ul class="nav">
                            <li class="ms-3"><a href="login.html">로그인</a></li>
                            <li class="ms-3"><a href="join.html">회원가입</a></li>
                            <li class="ms-3"><a href="service.html">서비스신청</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 회원가입 영역 -->
    <div class="joinWrap">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="joinContent">
                        <h3>회원가입</h3>
                        <div class="form_container">
                            <div class="rowInput">
                                <div class="floating">
                                    <input class="required" type="text" name="account_name" required>
                                    <label>아이디</label>
                                    <span class="error-message">값을 입력해주세요!</span>
                                </div>
                            </div>
                            <div class="rowInput">
                                <div class="floating">
                                    <input id="password" class="required" type="password" name="account_name" required>
                                    <label>비밀번호</label>
                                    <span class="error-message">값을 입력해주세요!</span>
                                </div>
                            </div>
                            <div class="rowInput">
                                <div class="floating">
                                    <input id="confirmPassword"class="required" type="password" name="account_name" required>
                                    <label>비밀번호 확인</label>
                                    <span id="passwordError" class="error-message">값을 입력해주세요!</span>
                                    </span>
                                </div>
                            </div>
                            <div class="rowInput">
                                <div class="floating">
                                    <input class="required" type="text" name="account_name" required>
                                    <label>이메일</label>
                                    <span class="error-message">값을 입력해주세요!</span>
                                </div>
                            </div>
                            <div class="rowInput">
                                <div class="floating">
                                    <input class="required" type="text" name="account_name" required>
                                    <label>이름</label>
                                    <span class="error-message">값을 입력해주세요!</span>
                                </div>
                            </div>
                            <div class="rowInput">
                                <div class="floating">
                                    <input id="phoneNumber" class="required" type="text" name="account_name" required>
                                    <label>휴대폰번호</label>
                                    <span id="phoneError" class="error-message"><img src="./images/alert.svg">휴대폰 번호는 숫자만 입력 가능합니다.</span>
                                </div>
                                </div>
                                <button id="submitBtn">가입하기</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 푸터 영역 -->
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="footerBox">
                        <div class="top">
                            <img src="./images/logo_footer.png">
                            <div class="sub">
                                위드퍼스트
                                <span class="bar"></span>
                                대표이사: 김태환
                                <span class="bar"></span>
                                사업자등록번호 <br>
                                주소 : 전라남도 나주시  우정로 10, 라동 304호
                                <span class="bar"></span>
                                이메일: withfirst01@gmail.com
                            </div>
                        </div>
                        <hr>
                        <div class="bot">
                            <div class="left">
                                <p>©withfirst All rights reserved.</p>
                            </div>
                            <div class="right">
                                <a href="#">이용약관</a>
                                <span class="bar"></span>
                                <a href="#">개인정보처리방침</a>
                                <span class="bar"></span>
                                <a href="#">사업자정보확인</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <!-- Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="./js/script.js"></script>
    <script>
        $(document).ready(function() {
            const $passwordInput = $('#password');
            const $confirmPasswordInput = $('#confirmPassword');
            const $passwordError = $('#passwordError');
            const $phoneNumberInput = $('#phoneNumber');
            const $phoneError = $('#phoneError');
            const $submitBtn = $('#submitBtn');
        
            function checkPasswordMatch() {
                if ($passwordInput.val() === $confirmPasswordInput.val()) {
                    $confirmPasswordInput.removeClass('input-error').addClass('input-success');
                    $passwordError.removeClass('error-message').addClass('success-message');
                    $passwordError.html('<img src="./images/checked.svg" alt="Alert"> 비밀번호가 일치합니다.').show();
                } else {
                    $confirmPasswordInput.removeClass('input-success').addClass('input-error');
                    $passwordError.removeClass('success-message').addClass('error-message');
                    $passwordError.html('<img src="./images/alert.svg" alt="Alert"> 비밀번호가 일치하지 않습니다.').show();
                }
            }
        
            function validateInput($input) {
                const $errorSpan = $input.siblings('.error-message');
                if ($input.val().trim() === '') {
                    $input.addClass('input-error');
                    $errorSpan.html('<img src="./images/alert.svg" alt="Alert"> 값을 입력해주세요!').show();
                    return false;
                } else {
                    $input.removeClass('input-error');
                    $errorSpan.hide();
                    return true;
                }
            }
        
            function validatePhoneNumber($input) {
                const originalValue = $input.val();
                const numericValue = originalValue.replace(/\D/g, '');
                const $errorSpan = $('#phoneError');
        
                if (originalValue !== numericValue) {
                    $input.addClass('input-error');
                    $errorSpan.html('<img src="./images/alert.svg" alt="Alert"> 휴대폰 번호는 숫자만 입력 가능합니다.').show();
                    return false;
                } else if (numericValue.length !== 11) {
                    $input.addClass('input-error');
                    $errorSpan.html('<img src="./images/alert.svg" alt="Alert"> 휴대폰 번호는 11자리여야 합니다.').show();
                    return false;
                } else {
                    $input.removeClass('input-error');
                    $errorSpan.hide();
                    return true;
                }
            }
        
            // 입력 시 유효성 검사
            $('.required').on('input', function() {
                const $input = $(this);
                if ($input.attr('id') === 'phoneNumber') {
                    validatePhoneNumber($input);
                } else {
                    validateInput($input);
                }
            });
        
            // 포커스 시 경고 숨김
            $('.required').on('focus', function() {
                const $input = $(this);
                const $errorSpan = $input.siblings('.error-message');
                $input.removeClass('input-error');
                $errorSpan.hide();
            });
        
            // 비밀번호 확인 유효성 검사
            $confirmPasswordInput.on('input', checkPasswordMatch);
            $passwordInput.on('input', function() {
                if ($confirmPasswordInput.val() !== '') {
                    checkPasswordMatch();
                } else {
                    $passwordError.hide();
                }
            });
        
            // 포커스 잃을 때 유효성 검사
            $confirmPasswordInput.on('blur', function() {
                if ($confirmPasswordInput.hasClass('input-success')) {
                    $passwordError.hide();
                    $confirmPasswordInput.removeClass('input-success');
                }
            });
        
            $passwordInput.on('blur', function() {
                if ($confirmPasswordInput.hasClass('input-success')) {
                    $passwordError.hide();
                    $confirmPasswordInput.removeClass('input-success');
                }
            });
        
            // 휴대폰 번호 유효성 검사
            $phoneNumberInput.on('input', function() {
                validatePhoneNumber($phoneNumberInput);
            });
        
            $phoneNumberInput.on('blur', function() {
                validatePhoneNumber($phoneNumberInput);
            });
        
            // 가입하기 버튼 클릭 시 유효성 검사
            $submitBtn.on('click', function(event) {
                event.preventDefault();
                let isValid = true;
        
                $('.required').each(function() {
                    if ($(this).attr('id') === 'phoneNumber') {
                        if (!validatePhoneNumber($(this))) {
                            isValid = false;
                        }
                    } else {
                        if (!validateInput($(this))) {
                            isValid = false;
                        }
                    }
                });
        
                if (isValid) {
                    alert('회원가입이 완료되었습니다.');
                }
            });
        });

        </script>
</body>
</html>